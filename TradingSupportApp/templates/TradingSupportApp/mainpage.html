{% extends "TradingSupportApp/base.html" %}
{% load static %}

{% block title %}Interface{% endblock %}
{% block cofnij%}Wyloguj{%endblock%}
{% block podtytulstrony %}Trading Support App Main Page{% endblock %}
{% block stylesheet %}{% static 'TradingSupport/mainpageStyles.css' %}{% endblock %}
{% block content %}
    <div class="fixTableHead">
        <table>
            <thead>
                <tr>
                    <th class="Green">firma</th>
                    <th>komunikaty</th>
                    {% for element in pointers_set %}
                        <th>{{ element }}</th>
                    {% endfor %}
                    <th>ogłoszenia zgromadzeń</th>
                </tr>
            </thead>
            <tbody>
                {% for symbol,name,pointers,announcements,assemblyAnnouncements in symbols_data  %}
                    <tr>
                        <td class="symbol-td">
                            {% with  link="https://www.bankier.pl/inwestowanie/profile/quote.html?symbol=" %}
                                <a class="symbol" href={{ link|add:symbol }}> {{ symbol }} </a>
                                <p class="name">{{ name }}</p>
                            {% endwith %}
                        </td>
                        <td class="announcements-td">
                            {% for announcement in announcements %}
                                {% with  link=announcement.link %}
                                    <a class="symbol" href="https://{{ link }}">
                                        <p class="announcements-date">{{ announcement.date}} :</p>
                                        <p class="announcements-text">{{announcement.text}}</p>
                                    </a>
                                {% endwith %}
                                <br>
                            {% endfor %}
                        </td>
                        {% for element in pointers_set %}
                            <td>
                                {% for key,value in pointers.items %}
                                    {% if key == element %}
                                        <p>{{ value }}</p>
                                    {% endif %}
                                {% endfor %}
                            </td>
                        {% endfor %}
                        <td class="announcements-td">
                            {% for assemblyAnnouncement in assemblyAnnouncements %}
                                {% with  link=assemblyAnnouncement.link %}
                                    <a class="symbol" href="https://{{ link }}">
                                        <p class="announcements-date">{{ assemblyAnnouncement.date}} :</p>
                                        <p class="announcements-text">{{assemblyAnnouncement.text}}</p>
                                    </a>
                                {% endwith %}
                                <br>
                            {% endfor %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock %}